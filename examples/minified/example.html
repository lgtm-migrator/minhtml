<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Document</title><style>body{font-family:Cambria,Georgia,Times,"Times New Roman",serif;margin-top:0;padding-top:0}textarea{height:30em}h1{margin-top:.5em;font-size:1.25em}h1 span{font-size:.6em}button{font-weight:700;width:100px}.minify-button{margin:16px 0}#outer-wrapper{overflow:hidden}#wrapper{width:65%;float:left}#input{width:99%;height:18em}#output{width:99%;height:18em;margin-bottom:2em}#options{float:right;width:33%;padding-left:1em;margin-top:3em}#options ul{list-style:none;padding:.5em;overflow:hidden;background:#ffe;margin-top:0}#options ul li{float:left;clear:both;padding-bottom:.5em}#options ul li div{margin-left:1.75em}#options input,#options label{float:left}#options label.sub-option{margin-left:22px;margin-right:5px}#options label{margin-left:.25em}#options label+input{margin-left:.5em}#stats{margin-bottom:2em;overflow:hidden;margin-top:0}#todo{font-family:monospace;margin-bottom:2em}.success{color:green}.failure{color:red}.quiet{font-size:.85em;color:#888}.short{display:inline-block;width:20em;margin-top:.25em;margin-left:.25em}.controls span{margin-right:.5em;margin-left:1em}.controls a{margin-left:.1em}.controls a:focus,.controls a:hover{text-decoration:none}.unsafe{color:#f33}iframe{position:absolute;top:10px;right:10px}.footer p{font-style:italic}</style></head><body id=main><h1 class=heading>Example</h1><script type=text/javascript>"use strict";function Sorter(){}function TokenChain(){}Sorter.prototype.sort=function(e,r){r=r||0;for(var t=0,n=this.keys.length;t<n;t++){var o=this.keys[t],i=o.slice(1),s=e.indexOf(i,r);if(-1!==s){do{s!==r&&(e.splice(s,1),e.splice(r,0,i)),r++}while(-1!==(s=e.indexOf(i,r)));return this[o].sort(e,r)}}return e},TokenChain.prototype={add:function(e){var r=this;e.forEach((function(t){var n="$"+t;r[n]||(r[n]=[],r[n].processed=0),r[n].push(e)}))},createSorter:function(){var e=this,r=new Sorter;return r.keys=Object.keys(e).sort((function(r,t){var n=e[r].length,o=e[t].length;return n<o?1:n>o||r<t?-1:r>t?1:0})).filter((function(t){if(e[t].processed<e[t].length){var n=t.slice(1),o=new TokenChain;return e[t].forEach((function(r){for(var t;-1!==(t=r.indexOf(n));)r.splice(t,1);r.forEach((function(r){e["$"+r].processed++})),o.add(r.slice(0))})),r[t]=o.createSorter(),!0}return!1})),r}},module.exports=TokenChain</script></body></html>